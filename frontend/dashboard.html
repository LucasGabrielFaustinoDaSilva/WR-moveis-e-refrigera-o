<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WR Marcenaria - Dashboard</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- CSS Customizado -->
  <link rel="stylesheet" href="../css/dashboard.css">
</head>
<body>
  <div class="dashboard-wrapper">
    <!-- Sidebar -->
    <nav id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <img src="../assets/images/logo.png" alt="WR Marcenaria" class="sidebar-logo">
        <h3>WR Marcenaria</h3>
      </div>
      <ul class="sidebar-menu">
        <li class="active"><a href="#"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
        <li><a href="#"><i class="fas fa-clipboard-list"></i> Orçamentos</a></li>
        <li><a href="#"><i class="fas fa-box-open"></i> Produtos</a></li>
        <li><a href="#"><i class="fas fa-users"></i> Clientes</a></li>
        <li><a href="#"><i class="fas fa-chart-line"></i> Relatórios</a></li>
        <li><a href="#"><i class="fas fa-cog"></i> Configurações</a></li>
        <li><a href="#" id="logout"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
      </ul>
    </nav>

    <!-- Content -->
    <div id="content" class="content">
      <!-- Top Navbar -->
      <nav class="topbar">
        <button id="sidebarToggle" class="btn">
          <i class="fas fa-bars"></i>
        </button>
        <div class="user-profile">
          <span class="user-name">Administrador</span>
          <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Usuário">
        </div>
      </nav>

      <!-- Main Content -->
      <div class="container-fluid p-4">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="mb-4">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
            <li class="breadcrumb-item active" aria-current="page">Clientes</li>
          </ol>
        </nav>

        <!-- Cards Resumo -->
        <div class="row mb-4">
          <div class="col-md-6 col-lg-3">
            <div class="card border-start border-primary border-4">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <h6 class="text-muted mb-2">Clientes</h6>
                    <h3 class="mb-0" id="totalClientes">0</h3>
                  </div>
                  <div class="bg-primary bg-opacity-10 p-3 rounded">
                    <i class="fas fa-users text-primary"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="card border-start border-success border-4">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <h6 class="text-muted mb-2">Orçamentos</h6>
                    <h3 class="mb-0" id="totalOrcamentos">0</h3>
                  </div>
                  <div class="bg-success bg-opacity-10 p-3 rounded">
                    <i class="fas fa-file-invoice-dollar text-success"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="card border-start border-warning border-4">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <h6 class="text-muted mb-2">Pedidos</h6>
                    <h3 class="mb-0" id="totalPedidos">0</h3>
                  </div>
                  <div class="bg-warning bg-opacity-10 p-3 rounded">
                    <i class="fas fa-boxes text-warning"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="card border-start border-danger border-4">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <h6 class="text-muted mb-2">Pendentes</h6>
                    <h3 class="mb-0" id="totalPendentes">0</h3>
                  </div>
                  <div class="bg-danger bg-opacity-10 p-3 rounded">
                    <i class="fas fa-exclamation-triangle text-danger"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tabela de Clientes -->
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">Gerenciamento de Clientes</h5>
            <div class="input-group" style="width: 300px;">
              <input type="text" class="form-control" placeholder="Pesquisar cliente..." id="pesquisaClientes">
              <button class="btn" type="button" id="btnPesquisar">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#clienteModal">
                  <i class="fas fa-plus me-2"></i> Novo Cliente
                </button>
              </div>
              <div class="d-flex">
                <button class="btn btn-outline-primary me-2">
                  <i class="fas fa-file-export me-2"></i>Exportar
                </button>
                <div class="dropdown">
                  <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                    <i class="fas fa-filter me-2"></i>Filtrar
                  </button>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Todos</a></li>
                    <li><a class="dropdown-item" href="#">Ativos</a></li>
                    <li><a class="dropdown-item" href="#">Inativos</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="table-responsive">
              <table class="table table-hover" id="clientesTable">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Contato</th>
                    <th>Documento</th>
                    <th>Status</th>
                    <th style="width: 100px;">Ações</th>
                  </tr>
                </thead>
                <tbody id="clientesBody">
                  <!-- Clientes serão carregados aqui via JavaScript -->
                </tbody>
              </table>
            </div>
            
            <nav aria-label="Navegação de páginas" class="mt-3">
              <ul class="pagination justify-content-end">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1">Anterior</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">Próximo</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para Adicionar/Editar Cliente -->
  <div class="modal fade" id="clienteModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">Adicionar Novo Cliente</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="clienteForm">
            <input type="hidden" id="clienteId">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="clienteNome" class="form-label">Nome Completo*</label>
                <input type="text" class="form-control" id="clienteNome" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="clienteEmail" class="form-label">E-mail*</label>
                <input type="email" class="form-control" id="clienteEmail" required>
              </div>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="clienteTelefone" class="form-label">Telefone*</label>
                <input type="tel" class="form-control" id="clienteTelefone" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="clienteDocumento" class="form-label">CPF/CNPJ*</label>
                <input type="text" class="form-control" id="clienteDocumento" required>
              </div>
            </div>
            
            <div class="mb-3">
              <label for="clienteEndereco" class="form-label">Endereço Completo</label>
              <textarea class="form-control" id="clienteEndereco" rows="3"></textarea>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="clienteCidade" class="form-label">Cidade</label>
                <input type="text" class="form-control" id="clienteCidade">
              </div>
              <div class="col-md-4 mb-3">
                <label for="clienteEstado" class="form-label">Estado</label>
                <select class="form-select" id="clienteEstado">
                  <option value="">Selecione</option>
                  <option value="SP">São Paulo</option>
                  <!-- Outros estados -->
                </select>
              </div>
              <div class="col-md-2 mb-3">
                <label for="clienteCEP" class="form-label">CEP</label>
                <input type="text" class="form-control" id="clienteCEP">
              </div>
            </div>
            
            <div class="mb-3">
              <label class="form-label">Status</label>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="clienteStatus" id="statusAtivo" value="ativo" checked>
                <label class="form-check-label" for="statusAtivo">
                  Ativo
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="clienteStatus" id="statusInativo" value="inativo">
                <label class="form-check-label" for="statusInativo">
                  Inativo
                </label>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" id="salvarCliente">
            <i class="fas fa-save me-2"></i>Salvar Cliente
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de Confirmação -->
  <div class="modal fade" id="confirmModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-danger text-white">
          <h5 class="modal-title">Confirmar Exclusão</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Tem certeza que deseja excluir este cliente? Esta ação não pode ser desfeita.</p>
          <p class="fw-bold" id="clienteNomeExclusao"></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-danger" id="confirmarExclusao">
            <i class="fas fa-trash me-2"></i>Excluir
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container position-fixed top-0 end-0 p-3">
    <!-- Toasts serão adicionados dinamicamente aqui -->
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- JS Customizado -->
  <script src="../js/dashboard.js"></script>
</body>
</html>